# Postgres Database

User information needs to be stored such as transactions, account deposits, etc. Additionally, the database will be used to store calculated performance metrics to avoid repeated calculations and to speed up graph access.

## Database Sepcifications:

The database tested will be hosted on a local NAS using Docker (with ports revealed).

A user will need to be created who will own / access the database.

- Version: Postgres 14.2
- Name: performant
- Owner: kxz167
- Database local port (meaningless for you): 15432

## Database Access and folder uploads:

All database updating and SQL commands are done using another Docker instance of pgAdmin4. The UI is just intuitive and easy to use so I prefer it much more to the CLI.

## File Directory:

NOTE: Most interactions were done between pgAdmin4 and Python. As a result, there may be duplicate, redundant, or outdated queries here. Most files will not be able to be directly imported.

There should be enough here to create everything required for the project.

- create_db.sql
  - The DATABASE creation command as generated by pgAdmin4
- _extensions.sql
  - Extensions used for the database. pgcrypto is for UUIDs.
- account.sql
  - SQL tables and queries related to managing accounts.
- account_summary.sql
  - The four main SQL commands in order to generate the metrics from the database needed to show on the main page.
- account_history.sql
  - This contains all of the queries required for managing account transactions (money deposits / withdrawls).
- agg_pl.sql:
  - Appears to be outdated, I believe I just moved all metrics into account_summary.sql and decided that most account summary metrics could be calculated on the go, rather than calculated then stored.
  - transaction.sql
    - This holds all of the queries used when creating a standard stock transaction and remembering it to an account
  - transaction_history.sql
    - This file holds all of the calculated metrics that result from stock transactions. It is important to note the distintuion, in that there are no historical transactions, but rather the metrics.